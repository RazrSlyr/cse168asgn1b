<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">.lst-kix_w4oqqjslgd1f-8>li:before{content:"\0025a0   "}ul.lst-kix_hcid1k6hnz7h-8{list-style-type:none}.lst-kix_hcid1k6hnz7h-1>li:before{content:"" counter(lst-ctn-kix_hcid1k6hnz7h-1,lower-latin) ". "}ul.lst-kix_hcid1k6hnz7h-7{list-style-type:none}.lst-kix_5vpbucae624i-8>li:before{content:"" counter(lst-ctn-kix_5vpbucae624i-8,lower-roman) ". "}ul.lst-kix_hcid1k6hnz7h-6{list-style-type:none}ol.lst-kix_5vpbucae624i-4.start{counter-reset:lst-ctn-kix_5vpbucae624i-4 0}.lst-kix_hcid1k6hnz7h-2>li:before{content:"\0025a0   "}ul.lst-kix_hcid1k6hnz7h-5{list-style-type:none}ul.lst-kix_hcid1k6hnz7h-4{list-style-type:none}ul.lst-kix_hcid1k6hnz7h-3{list-style-type:none}.lst-kix_5vpbucae624i-7>li:before{content:"" counter(lst-ctn-kix_5vpbucae624i-7,lower-latin) ". "}ul.lst-kix_hcid1k6hnz7h-2{list-style-type:none}ul.lst-kix_w4oqqjslgd1f-3{list-style-type:none}ul.lst-kix_w4oqqjslgd1f-2{list-style-type:none}.lst-kix_w4oqqjslgd1f-4>li:before{content:"\0025cb   "}.lst-kix_w4oqqjslgd1f-5>li:before{content:"\0025a0   "}ul.lst-kix_w4oqqjslgd1f-5{list-style-type:none}ul.lst-kix_w4oqqjslgd1f-4{list-style-type:none}.lst-kix_w4oqqjslgd1f-2>li:before{content:"\0025a0   "}.lst-kix_w4oqqjslgd1f-3>li:before{content:"\0025cf   "}.lst-kix_w4oqqjslgd1f-6>li:before{content:"\0025cf   "}.lst-kix_w4oqqjslgd1f-7>li:before{content:"\0025cb   "}ul.lst-kix_w4oqqjslgd1f-1{list-style-type:none}ul.lst-kix_w4oqqjslgd1f-0{list-style-type:none}ol.lst-kix_hcid1k6hnz7h-1{list-style-type:none}.lst-kix_hcid1k6hnz7h-0>li:before{content:"\0025cf   "}ul.lst-kix_w4oqqjslgd1f-7{list-style-type:none}ol.lst-kix_5vpbucae624i-1.start{counter-reset:lst-ctn-kix_5vpbucae624i-1 0}ul.lst-kix_w4oqqjslgd1f-6{list-style-type:none}.lst-kix_5vpbucae624i-3>li{counter-increment:lst-ctn-kix_5vpbucae624i-3}ul.lst-kix_w4oqqjslgd1f-8{list-style-type:none}ol.lst-kix_5vpbucae624i-8.start{counter-reset:lst-ctn-kix_5vpbucae624i-8 0}.lst-kix_5vpbucae624i-2>li{counter-increment:lst-ctn-kix_5vpbucae624i-2}.lst-kix_5vpbucae624i-0>li:before{content:"" counter(lst-ctn-kix_5vpbucae624i-0,decimal) ". "}ol.lst-kix_5vpbucae624i-0{list-style-type:none}ol.lst-kix_5vpbucae624i-2{list-style-type:none}ol.lst-kix_5vpbucae624i-1{list-style-type:none}ul.lst-kix_hcid1k6hnz7h-0{list-style-type:none}ol.lst-kix_5vpbucae624i-4{list-style-type:none}ol.lst-kix_5vpbucae624i-3{list-style-type:none}.lst-kix_5vpbucae624i-4>li:before{content:"" counter(lst-ctn-kix_5vpbucae624i-4,lower-latin) ". "}.lst-kix_5vpbucae624i-6>li:before{content:"" counter(lst-ctn-kix_5vpbucae624i-6,decimal) ". "}ol.lst-kix_5vpbucae624i-6{list-style-type:none}ol.lst-kix_5vpbucae624i-5{list-style-type:none}ol.lst-kix_5vpbucae624i-8{list-style-type:none}.lst-kix_5vpbucae624i-1>li:before{content:"" counter(lst-ctn-kix_5vpbucae624i-1,lower-latin) ". "}.lst-kix_5vpbucae624i-5>li:before{content:"" counter(lst-ctn-kix_5vpbucae624i-5,lower-roman) ". "}ol.lst-kix_5vpbucae624i-7{list-style-type:none}ol.lst-kix_5vpbucae624i-5.start{counter-reset:lst-ctn-kix_5vpbucae624i-5 0}.lst-kix_5vpbucae624i-5>li{counter-increment:lst-ctn-kix_5vpbucae624i-5}.lst-kix_5vpbucae624i-2>li:before{content:"" counter(lst-ctn-kix_5vpbucae624i-2,lower-roman) ". "}ol.lst-kix_5vpbucae624i-2.start{counter-reset:lst-ctn-kix_5vpbucae624i-2 0}.lst-kix_5vpbucae624i-8>li{counter-increment:lst-ctn-kix_5vpbucae624i-8}.lst-kix_5vpbucae624i-3>li:before{content:"" counter(lst-ctn-kix_5vpbucae624i-3,decimal) ". "}.lst-kix_5vpbucae624i-6>li{counter-increment:lst-ctn-kix_5vpbucae624i-6}.lst-kix_5vpbucae624i-0>li{counter-increment:lst-ctn-kix_5vpbucae624i-0}ol.lst-kix_5vpbucae624i-6.start{counter-reset:lst-ctn-kix_5vpbucae624i-6 0}ol.lst-kix_5vpbucae624i-3.start{counter-reset:lst-ctn-kix_5vpbucae624i-3 0}.lst-kix_w4oqqjslgd1f-0>li:before{content:"\0025cf   "}.lst-kix_w4oqqjslgd1f-1>li:before{content:"\0025cb   "}.lst-kix_5vpbucae624i-4>li{counter-increment:lst-ctn-kix_5vpbucae624i-4}.lst-kix_5vpbucae624i-7>li{counter-increment:lst-ctn-kix_5vpbucae624i-7}.lst-kix_hcid1k6hnz7h-4>li:before{content:"\0025cb   "}ol.lst-kix_5vpbucae624i-0.start{counter-reset:lst-ctn-kix_5vpbucae624i-0 0}.lst-kix_hcid1k6hnz7h-3>li:before{content:"\0025cf   "}.lst-kix_hcid1k6hnz7h-5>li:before{content:"\0025a0   "}.lst-kix_5vpbucae624i-1>li{counter-increment:lst-ctn-kix_5vpbucae624i-1}ol.lst-kix_5vpbucae624i-7.start{counter-reset:lst-ctn-kix_5vpbucae624i-7 0}.lst-kix_hcid1k6hnz7h-8>li:before{content:"\0025a0   "}.lst-kix_hcid1k6hnz7h-7>li:before{content:"\0025cb   "}.lst-kix_hcid1k6hnz7h-6>li:before{content:"\0025cf   "}.lst-kix_hcid1k6hnz7h-1>li{counter-increment:lst-ctn-kix_hcid1k6hnz7h-1}ol.lst-kix_hcid1k6hnz7h-1.start{counter-reset:lst-ctn-kix_hcid1k6hnz7h-1 0}ol{margin:0;padding:0}table td,table th{padding:0}.c8{-webkit-text-decoration-skip:none;color:#000000;font-weight:700;text-decoration:underline;vertical-align:baseline;text-decoration-skip-ink:none;font-size:16pt;font-family:"Arial";font-style:normal}.c5{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:12pt;font-family:"Arial";font-style:normal}.c12{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:center;height:11pt}.c2{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left;height:11pt}.c13{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:18pt;font-family:"Arial";font-style:normal}.c0{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:14pt;font-family:"Arial";font-style:normal}.c4{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c15{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:center}.c10{text-decoration-skip-ink:none;-webkit-text-decoration-skip:none;color:#1155cc;text-decoration:underline}.c3{background-color:#ffffff;max-width:468pt;padding:72pt 72pt 72pt 72pt}.c1{font-size:12pt;font-weight:700}.c11{color:inherit;text-decoration:inherit}.c6{font-size:14pt;font-weight:700}.c9{font-size:14pt}.c14{text-indent:36pt}.c7{font-size:12pt}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c3 doc-content"><p class="c4"><span class="c5">Juan-Fernando Morales (juprmora)</span></p><p class="c4"><span class="c5">Qingyang Sun (qsun20)</span></p><p class="c4"><span class="c5">Rohan Nikhil Venkatapuram (rnvenkat)</span></p><p class="c2"><span class="c5"></span></p><p class="c15"><span class="c13">Project 1B Writeup: Integrating Virtual Reality</span></p><p class="c12"><span class="c5"></span></p><p class="c4"><span class="c8">Project Description</span></p><p class="c4"><span class="c7">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c7">The goal of this project was to create a VR experience using our projects that utilized Three.js from CSE 160. This was done in two phases, the first (done in part 1A) was about turning the project into a virtual reality space. The second phase (done here) focused on adding in features that allowed you to explore and interact with the virtual space.</span></p><p class="c2"><span class="c5"></span></p><p class="c4"><span class="c8">Goals</span></p><p class="c4"><span class="c7">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Our plan was to individually add a shared set of features to our projects. We all had fairly different code structures in our projects, so we felt as though this was a solid approach. The primary feature we wanted to add was the ability to </span><span class="c1">teleport</span><span class="c7">&nbsp;around the virtual reality environment. This was crucial as all of our projects had spaces that were larger than a normal boundary safe area. So, to fully experience the scenes we needed this extra movement. An additional stretch feature was to add some </span><span class="c1">object interactions</span><span class="c5">&nbsp;using the controllers.</span></p><p class="c2"><span class="c5"></span></p><p class="c4"><span class="c8">Results</span></p><p class="c4"><span class="c5">As we had three different projects, this section will be split into results by project.</span></p><p class="c2"><span class="c5"></span></p><p class="c4"><span class="c6">Juan (jupromora)</span></p><p class="c4 c14"><span class="c5">My VR project was focused on implementing teleportation. In order to do that, I had to figure out how to find the intersection between a ray and the hitbox of an object. To keep things simple, I only allowed teleportation to the floor. My implementation consisted of adding a controller object to the three.js scene, with event listeners for starting and ending of a trigger event. At the end of a trigger event, a ray is cast, and I only have to check if it collides with the floor. If so, I translate and rotate the player matrix to that object. If I was to rewrite this assignment, I would decouple it from the render function, as right now there is a global variable that the render function writes to every frame, that updates the point intersected by a ray cast from each controller. Then, my trigger event handler is responsible for telling the game to move my camera&#39;s position. This is serviceable, but I think it would be more valuable to chain together functions from the button press, and that way not have to rely on a global variable.</span></p><p class="c2"><span class="c5"></span></p><p class="c4"><span class="c6">Henry/Qingyang (qsun20)</span></p><p class="c4"><span class="c9">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c5">My project1b includes converting 160 projects into the form of VR, and adding the functions of transmitting and generating cubes to realize 3D scene and models, dynamics, navigation and interaction. In this world, players can move through the controller and also interact with the world through their hands. </span></p><p class="c2"><span class="c5"></span></p><p class="c4"><span class="c5">The function of teleport creates two controller objects (controller1 and controller2) for interaction in a VR environment. Teleport involves using a raycaster, calculating the intersection point between raycaster and the ground, and moving the camera to the intersection position. The onSelectStart () and onSelectEnd () functions are used to determine the trigger start and the end event. The selection start event is triggered when the user clicks the controller button in VR, and the selection end event is triggered when the button is released. In the selection end event, if there is an intersection, an offset is calculated and a new reference space is set for teleportation . The teleport function uses XRControllerModelFactory to implement the operation of buttons, in this case, both triggers on the controller. </span></p><p class="c2"><span class="c5"></span></p><p class="c4"><span class="c5">The hand generation function is divided into two modules. The right index finger and thumb pinch to generate a square at the tip of the finger, while the left hand can &quot;grab&quot; the generated square when a pinch is detected with the left index finger and thumb. The collideObject () function is used to detect whether the finger intersects the cube. The two main functions in program 1b build foundations for our final project, because we need a way to manipulate point cloud data.</span></p><p class="c2"><span class="c0"></span></p><p class="c4"><span class="c6">Rohan (rnvenkat)</span></p><p class="c4"><span class="c9">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="c7">Similar to Henry&rsquo;s, I wanted to add both teleportation and object interaction. However, before doing that, I had to integrate controller support. Using the </span><span class="c7 c10"><a class="c11" href="https://www.google.com/url?q=https://threejs.org/examples/?q%3Dwebxr&amp;sa=D&amp;source=editors&amp;ust=1707552292991499&amp;usg=AOvVaw3M5CVXNEDq3V1O4njWn9Dc">three.js examples as a reference</a></span><span class="c5">, I added both the controllers and the hand models. Following that, I changed the controller listener functions that were defined in the controller example to instead create an offset to the reference space the player is in. The new listeners can be found in the &ldquo;#setupControllerEvents&rdquo; function in &ldquo;VRSystem.js&rdquo;, the file that contains all the VR-related code for the project. The amount of offset was determined by two steps. First, perform a raycast from the controller to the ground if the trigger on the controller was held down. If the ray hits the ground, a marker appears showing where the user will teleport to. Upon release, the base reference space is offset by the difference between the player and the point of intersection between the ray and the ground.</span></p><p class="c4"><span class="c7">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The second feature, object interaction, was implemented differently from Henry&rsquo;s. Rather than creating new objects, I wanted to manipulate some of the objects that were already in my scene, that being my rocks. Similar raycasting strategies were used to determine which rocks I was pointing the controller to, this time adding a distance limit to make only nearby rocks appear &ldquo;grabbable&rdquo;. When you are close and you can grab a rock (shown by the rock having a red highlight), you can press the trigger to grab and move the rock. This is also handled in &ldquo;#setupControllerEvents&rdquo;, but specifically in &ldquo;controllerOneOnSelectStart&rdquo; (the other controller does the teleportation). I was originally planning on adding physics to these rocks, allowing them to be thrown around, using the Ammo.js library. However, that feature ended up needing to be dropped.</span></p></body></html>